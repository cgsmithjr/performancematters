import React, { useState, useEffect } from 'react';
import { 
  Shield, 
  Users, 
  MapPin, 
  Globe, 
  Award, 
  CheckCircle2, 
  Mail, 
  Phone, 
  ChevronRight,
  Menu,
  X,
  Gavel,
  Calendar,
  ChevronLeft,
  Clock
} from 'lucide-react';

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [currentDate, setCurrentDate] = useState(new Date());

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const contactInfo = {
    name: "Timothy L. Fuss",
    title: "Founder & Lead Consultant",
    location: "Wilmington, NC",
    phone: "910-620-9506",
    email: "tlfuss@gmail.com",
    address: "4500 Blue Clay Rd, Castle Hayne, NC 28400"
  };

  const services = [
    {
      title: "Law Enforcement Operations",
      icon: <Shield className="w-8 h-8" />,
      description: "Expert audits and strategic consulting focusing on agency efficiency, liability reduction, and tactical safety protocols."
    },
    {
      title: "Detention Center Management",
      icon: <Gavel className="w-8 h-8" />,
      description: "Operational security assessments and specialized training for correctional staff to ensure safety and compliance."
    },
    {
      title: "Strategic Agency Training",
      icon: <Users className="w-8 h-8" />,
      description: "Custom curriculum development for officer performance, leadership growth, and specialized agency needs."
    }
  ];

  const trainingEvents = [
    { date: 12, title: "Detention Ops Seminar", type: "On-Site" },
    { date: 18, title: "Law Enforcement Audit", type: "Remote" },
    { date: 24, title: "Leadership Workshop", type: "On-Site" }
  ];

  // Precision recreation of the PerfomanceMatters-logo.png silhouette
  const MountainLogo = ({ className }) => (
    <svg viewBox="0 0 1000 300" className={className} fill="none" xmlns="http://www.w3.org/2000/svg">
      <path 
        d="M50 220 L120 215 L180 180 L230 200 L280 140 L340 160 L390 80 L440 120 L480 100 L530 140 L580 110 L630 150 L690 130 L750 160 L820 180 L900 200 L950 200" 
        stroke="currentColor" 
        strokeWidth="4" 
        strokeLinecap="round" 
        strokeLinejoin="round"
      />
      {/* Secondary shadowing line to match the 'thick/thin' feel of the PNG logo */}
      <path 
        d="M200 210 L280 160 L340 180 L390 100 L440 140 L480 120 L530 160 L580 130 L630 170" 
        stroke="currentColor" 
        strokeWidth="2" 
        strokeLinecap="round" 
        opacity="0.3" 
      />
    </svg>
  );

  const TrainingCalendar = () => {
    const days = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    const month = currentDate.toLocaleString('default', { month: 'long' });
    const year = currentDate.getFullYear();
    
    return (
      <div className="bg-white rounded-3xl shadow-2xl overflow-hidden border border-slate-100">
        <div className="bg-slate-900 p-6 flex justify-between items-center text-white">
          <button className="p-2 hover:bg-white/10 rounded-full transition-colors"><ChevronLeft className="w-5 h-5" /></button>
          <h3 className="text-xl font-bold uppercase tracking-widest">{month} {year}</h3>
          <button className="p-2 hover:bg-white/10 rounded-full transition-colors"><ChevronRight className="w-5 h-5" /></button>
        </div>
        <div className="p-6">
          <div className="grid grid-cols-7 mb-4">
            {days.map(d => <div key={d} className="text-center text-xs font-bold text-slate-400 uppercase">{d}</div>)}
          </div>
          <div className="grid grid-cols-7 gap-2">
            {[...Array(31)].map((_, i) => {
              const dayNum = i + 1;
              const event = trainingEvents.find(e => e.date === dayNum);
              return (
                <div key={i} className={`aspect-square border border-slate-50 rounded-lg p-1 flex flex-col justify-between transition-all ${event ? 'bg-sky-50 border-sky-200' : 'hover:bg-slate-50'}`}>
                  <span className={`text-[10px] md:text-xs font-bold ${event ? 'text-sky-600' : 'text-slate-300'}`}>{dayNum}</span>
                  {event && (
                    <div className="bg-sky-600 text-[6px] md:text-[8px] text-white p-0.5 md:p-1 rounded font-bold leading-tight truncate">
                      {event.title}
                    </div>
                  )}
                </div>
              );
            })}
          </div>
          <div className="mt-6 flex flex-wrap gap-4 text-[10px] md:text-xs font-medium text-slate-500 justify-center">
            <div className="flex items-center gap-1"><div className="w-3 h-3 rounded bg-sky-600"></div> Scheduled</div>
            <div className="flex items-center gap-1"><div className="w-3 h-3 rounded bg-slate-100 border border-slate-200"></div> Available</div>
          </div>
        </div>
      </div>
    );
  };

  return (
    <div className="min-h-screen bg-white font-sans text-slate-800 scroll-smooth">
      <nav className={`fixed w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white shadow-md py-2' : 'bg-transparent py-4'}`}>
        <div className="max-w-7xl mx-auto px-4 flex justify-between items-center">
          <div className="flex items-center gap-3 cursor-pointer group">
            <div className={`transition-colors ${scrolled ? 'text-sky-500' : 'text-sky-400'}`}>
              <MountainLogo className="h-10 w-24" />
            </div>
            <div className="flex flex-col leading-none">
              <span className={`font-bold text-lg md:text-xl tracking-tighter ${scrolled ? 'text-slate-900' : 'text-white'}`}>PERFORMANCE MATTERS</span>
              <span className={`text-[10px] tracking-widest font-semibold ${scrolled ? 'text-sky-600' : 'text-sky-300'}`}>TRAINING & CONSULTING</span>
            </div>
          </div>

          <div className={`hidden md:flex items-center gap-8 font-medium ${scrolled ? 'text-slate-600' : 'text-slate-200'}`}>
            <a href="#about" className="hover:text-sky-500 transition-colors">About</a>
            <a href="#services" className="hover:text-sky-500 transition-colors">Services</a>
            <a href="#calendar" className="hover:text-sky-500 transition-colors">Schedule</a>
            <a href="#contact" className="px-5 py-2 rounded-lg bg-sky-600 text-white hover:bg-sky-700 transition-all shadow-lg shadow-sky-600/20">Contact</a>
          </div>

          <button className="md:hidden" onClick={() => setIsMenuOpen(!isMenuOpen)}>
            {isMenuOpen ? <X className={scrolled ? 'text-slate-900' : 'text-white'} /> : <Menu className={scrolled ? 'text-slate-900' : 'text-white'} />}
          </button>
        </div>
      </nav>

      {isMenuOpen && (
        <div className="fixed inset-0 bg-slate-900 z-40 flex flex-col items-center justify-center gap-8 text-white text-2xl">
          <a href="#about" onClick={() => setIsMenuOpen(false)}>About</a>
          <a href="#services" onClick={() => setIsMenuOpen(false)}>Services</a>
          <a href="#calendar" onClick={() => setIsMenuOpen(false)}>Schedule</a>
          <a href="#contact" onClick={() => setIsMenuOpen(false)}>Contact</a>
        </div>
      )}

      {/* Hero Section */}
      <section className="relative h-screen flex items-center justify-center overflow-hidden bg-slate-900">
        <div className="absolute inset-0">
          <div className="absolute top-0 right-0 w-[800px] h-[800px] bg-sky-600/10 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2"></div>
          <div className="absolute bottom-0 left-0 w-[600px] h-[600px] bg-blue-900/20 rounded-full blur-[100px] translate-y-1/3 -translate-x-1/4"></div>
        </div>
        
        <div className="relative z-10 max-w-7xl mx-auto px-4 text-center">
          <div className="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 text-sky-400 text-sm font-semibold mb-8 border border-white/10 backdrop-blur-sm">
            <Award className="w-4 h-4" /> Professional Excellence in Public Safety
          </div>
          <h1 className="text-4xl md:text-7xl font-bold text-white mb-6 leading-tight">
            Precision in Training.<br />
            <span className="text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-teal-400 italic font-medium">Integrity in Performance.</span>
          </h1>
          <p className="text-lg md:text-xl text-slate-300 max-w-2xl mx-auto mb-10 leading-relaxed">
            Leading-edge consulting and training services for law enforcement and detention agencies throughout North Carolina and the Southeast.
          </p>
          <div className="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#contact" className="px-10 py-4 bg-sky-600 text-white rounded-xl font-bold hover:bg-sky-500 transition-all transform hover:scale-105 shadow-xl shadow-sky-900/30">
              Request Consultation
            </a>
            <a href="#calendar" className="px-10 py-4 bg-white/5 border border-white/20 text-white rounded-xl font-bold hover:bg-white/10 transition-all flex items-center justify-center gap-2">
              <Calendar className="w-5 h-5 text-sky-400" /> Training Calendar
            </a>
          </div>
        </div>

        {/* Brand silhouette at hero bottom */}
        <div className="absolute bottom-0 left-0 w-full text-sky-400/20 pointer-events-none">
          <MountainLogo className="w-full h-64 translate-y-24" />
        </div>
      </section>

      {/* About Section */}
      <section id="about" className="py-24 bg-white">
        <div className="max-w-7xl mx-auto px-4">
          <div className="grid md:grid-cols-2 gap-20 items-center">
            <div className="relative">
              <div className="absolute -inset-4 bg-sky-50 rounded-[3rem] -rotate-2"></div>
              <div className="relative aspect-[4/5] bg-slate-900 rounded-3xl overflow-hidden shadow-2xl border-4 border-white flex flex-col items-center justify-center">
                <div className="text-center p-8 bg-gradient-to-b from-slate-800 to-slate-950 h-full w-full flex flex-col justify-center items-center">
                  <div className="w-32 h-32 bg-sky-500/10 rounded-full flex items-center justify-center mb-6">
                    <MountainLogo className="w-24 text-sky-500" />
                  </div>
                  <h3 className="text-2xl font-bold text-white mb-2">{contactInfo.name}</h3>
                  <p className="text-sky-400 font-bold uppercase tracking-widest text-xs">{contactInfo.title}</p>
                </div>
              </div>
            </div>
            
            <div>
              <div className="flex items-center gap-2 text-sky-600 mb-6">
                <Shield className="w-6 h-6" />
                <span className="font-bold tracking-widest uppercase text-sm">Our Mission</span>
              </div>
              <h2 className="text-4xl font-bold text-slate-900 mb-6 leading-tight">Expertise Rooted in Real-World Operations.</h2>
              <p className="text-lg text-slate-600 leading-relaxed mb-6">
                Operating out of <strong>Wilmington, North Carolina</strong>, Performance Matters brings over two decades of professional experience in law enforcement and correctional management directly to your facility.
              </p>
              <p className="text-lg text-slate-600 leading-relaxed mb-8">
                Timothy L. Fuss established this firm to provide public safety agencies with high-fidelity operational audits and training that transcends standard manuals.
              </p>
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-10">
                {[
                  "Wilmington Area Base",
                  "Direct Agency Audits",
                  "NC Training Specialist",
                  "Liability Management"
                ].map((item, idx) => (
                  <div key={idx} className="flex items-center gap-3">
                    <CheckCircle2 className="text-sky-500 w-5 h-5" />
                    <span className="font-semibold text-slate-700">{item}</span>
                  </div>
                ))}
              </div>
              <div className="p-8 bg-slate-900 rounded-2xl relative overflow-hidden">
                 <div className="absolute top-0 right-0 p-4 opacity-10">
                   <MountainLogo className="w-24 text-white" />
                 </div>
                 <p className="italic text-slate-300 text-lg leading-relaxed relative z-10">
                   "We build the bridges required to achieve operational excellence and safety through tactical clarity and integrity."
                 </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Services Section */}
      <section id="services" className="py-24 bg-slate-50">
        <div className="max-w-7xl mx-auto px-4">
          <div className="text-center max-w-3xl mx-auto mb-20">
            <h2 className="text-4xl font-bold text-slate-900 mb-4">Core Consulting Focus</h2>
            <div className="w-20 h-1.5 bg-sky-500 mx-auto rounded-full mb-6"></div>
            <p className="text-slate-600 text-lg">
              Tailored expertise for high-risk environments.
            </p>
          </div>
          
          <div className="grid md:grid-cols-3 gap-8">
            {services.map((service, idx) => (
              <div key={idx} className="bg-white p-10 rounded-3xl border border-slate-100 shadow-xl hover:shadow-2xl transition-all group">
                <div className="w-16 h-16 bg-sky-50 rounded-2xl flex items-center justify-center text-sky-600 mb-8 group-hover:bg-sky-600 group-hover:text-white transition-all">
                  {service.icon}
                </div>
                <h3 className="text-xl font-bold text-slate-900 mb-4">{service.title}</h3>
                <p className="text-slate-600 leading-relaxed mb-6">
                  {service.description}
                </p>
                <div className="h-1 w-0 group-hover:w-full bg-sky-500 transition-all duration-300"></div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Calendar Section */}
      <section id="calendar" className="py-24 bg-white relative overflow-hidden">
        <div className="max-w-7xl mx-auto px-4 relative z-10">
          <div className="grid lg:grid-cols-2 gap-20 items-center">
            <div>
              <div className="flex items-center gap-2 text-sky-600 mb-4">
                <Calendar className="w-5 h-5" />
                <span className="font-bold tracking-widest uppercase text-sm">Availability</span>
              </div>
              <h2 className="text-4xl font-bold text-slate-900 mb-6">Training Schedule</h2>
              <p className="text-lg text-slate-600 mb-10">
                Check for upcoming public sessions or find a window for a private agency evaluation.
              </p>
              
              <div className="space-y-4 mb-10">
                <div className="flex items-center gap-4 bg-slate-50 p-5 rounded-2xl border border-slate-100">
                  <div className="w-10 h-10 bg-white rounded-xl shadow-sm flex items-center justify-center text-sky-600">
                    <MapPin className="w-5 h-5" />
                  </div>
                  <div>
                    <h4 className="font-bold text-slate-900">On-Site Evaluation</h4>
                    <p className="text-sm text-slate-500">Intensive review at your facility in Wilmington or NC/SC.</p>
                  </div>
                </div>
              </div>
              
              <a href="#contact" className="inline-flex items-center gap-3 py-4 px-8 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg">
                Book a Specific Date <ChevronRight className="w-4 h-4" />
              </a>
            </div>
            
            <TrainingCalendar />
          </div>
        </div>
      </section>

      {/* Contact Section */}
      <section id="contact" className="py-24 bg-slate-900 text-white relative overflow-hidden">
        <div className="absolute top-0 right-0 p-24 opacity-5 pointer-events-none">
          <MountainLogo className="w-[800px] h-[800px]" />
        </div>

        <div className="max-w-7xl mx-auto px-4 relative z-10">
          <div className="grid lg:grid-cols-2 gap-20">
            <div>
              <h2 className="text-4xl md:text-5xl font-bold mb-8 leading-tight">Connect with Performance Matters</h2>
              <p className="text-slate-400 text-lg mb-12 max-w-lg">
                Schedule a confidential assessment for your agency.
              </p>
              
              <div className="space-y-10">
                <div className="flex items-center gap-6 group">
                  <div className="w-14 h-14 bg-sky-500/10 border border-sky-500/20 rounded-2xl flex items-center justify-center text-sky-400">
                    <Phone className="w-6 h-6" />
                  </div>
                  <div>
                    <p className="text-xs font-bold text-sky-500 uppercase tracking-widest mb-1">Phone</p>
                    <p className="text-2xl font-bold">{contactInfo.phone}</p>
                  </div>
                </div>
                
                <div className="flex items-center gap-6 group">
                  <div className="w-14 h-14 bg-sky-500/10 border border-sky-500/20 rounded-2xl flex items-center justify-center text-sky-400">
                    <Mail className="w-6 h-6" />
                  </div>
                  <div>
                    <p className="text-xs font-bold text-sky-500 uppercase tracking-widest mb-1">Email</p>
                    <p className="text-2xl font-bold">{contactInfo.email}</p>
                  </div>
                </div>

                <div className="flex items-start gap-6 group">
                  <div className="w-14 h-14 bg-sky-500/10 border border-sky-500/20 rounded-2xl flex items-center justify-center text-sky-400 flex-shrink-0">
                    <MapPin className="w-6 h-6" />
                  </div>
                  <div>
                    <p className="text-xs font-bold text-sky-500 uppercase tracking-widest mb-1">Office</p>
                    <p className="text-xl font-bold mb-1 leading-tight">{contactInfo.address}</p>
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-white/5 border border-white/10 p-10 rounded-[2.5rem] backdrop-blur-sm shadow-2xl">
              <h3 className="text-2xl font-bold mb-8">Send an Inquiry</h3>
              <form className="space-y-5" onSubmit={(e) => e.preventDefault()}>
                <div className="grid grid-cols-2 gap-4">
                  <input type="text" placeholder="First Name" className="w-full bg-slate-800/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-sky-500" />
                  <input type="text" placeholder="Last Name" className="w-full bg-slate-800/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-sky-500" />
                </div>
                <input type="text" placeholder="Agency / Organization" className="w-full bg-slate-800/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-sky-500" />
                <textarea rows="4" placeholder="How can we help?" className="w-full bg-slate-800/50 border border-white/10 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-sky-500"></textarea>
                <button className="w-full py-4 bg-sky-600 text-white font-bold rounded-xl hover:bg-sky-700 transition-all shadow-xl shadow-sky-600/30 text-lg uppercase tracking-widest">
                  Submit Request
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-slate-950 py-16 text-slate-600 border-t border-white/5">
        <div className="max-w-7xl mx-auto px-4">
          <div className="flex flex-col md:flex-row justify-between items-center gap-12 mb-16">
            <div className="flex flex-col items-center md:items-start gap-4">
               <div className="flex items-center gap-3">
                 <MountainLogo className="h-10 text-sky-500" />
                 <div className="flex flex-col leading-none">
                   <span className="font-bold text-white tracking-tighter text-xl">PERFORMANCE MATTERS</span>
                   <span className="text-[10px] tracking-[0.3em] font-bold text-sky-500 uppercase">Training & Consulting</span>
                 </div>
               </div>
            </div>
            
            <div className="flex gap-12 text-xs font-bold uppercase tracking-[0.2em]">
              <a href="#about" className="hover:text-white transition-colors">About</a>
              <a href="#services" className="hover:text-white transition-colors">Expertise</a>
              <a href="#calendar" className="hover:text-white transition-colors">Schedule</a>
              <a href="#contact" className="hover:text-white transition-colors">Contact</a>
            </div>
          </div>
          
          <div className="flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] uppercase tracking-[0.3em] font-bold">
            <p>© 2024 Timothy L. Fuss • Performance Matters LLC</p>
            <p className="text-sky-500">Wilmington, North Carolina Operations</p>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default App;
